================================================================================
        POULTRY CCTV VIDEO ANALYSIS SYSTEM - DEMO SCRIPT
================================================================================

[INTRODUCTION]

Hello everyone! Today I'm presenting my Poultry CCTV Video Analysis System - 
an ML-powered solution for automating bird counting, tracking, and weight 
estimation in poultry farms.

================================================================================
[PROBLEM STATEMENT]

Manual monitoring of poultry farms is:
- Time-consuming and labor-intensive
- Prone to human error
- Difficult to maintain continuous observation
- Challenging for weight monitoring without disturbing birds

Our system addresses these challenges using computer vision and machine learning.

================================================================================
[SOLUTION OVERVIEW]

Our system provides three core capabilities:

1. BIRD COUNTING & DETECTION
   - Automatic bird detection using YOLOv8
   - Real-time bounding box visualization
   - Timestamp-based count tracking

2. STABLE TRACKING
   - ByteTrack algorithm for ID assignment
   - 30-frame buffer for occlusion handling
   - 0.0% ID switch rate achieved

3. WEIGHT ESTIMATION
   - Area-based proxy calculation
   - Median weight per bird (stable values)
   - Calibration support for gram conversion

================================================================================
[TECHNICAL APPROACH]

DETECTION MODEL:
- YOLOv8n pretrained on COCO dataset
- Bird class detection (Class 14)
- Confidence threshold: 0.3 (optimized for accuracy)

TRACKING ALGORITHM:
- ByteTrack for stable ID assignment
- Kalman filter for position prediction during occlusions
- 30-frame persistence buffer

WEIGHT ESTIMATION:
- Formula: weight_index = (bbox_area / frame_height²) × 1000
- Median calculation for stability
- ±15% uncertainty from posture variations
- Minimum 8-frame detection filter to remove false positives

ARCHITECTURE:
- FastAPI backend for ML processing
- Streamlit frontend for visualization
- Modular design with separate detector, tracker, and annotator components

================================================================================
[DEMO WALKTHROUGH]

Let me walk you through our interactive Streamlit demo...

--- SECTION 1: OVERVIEW ---

[Navigate to Overview page]

Here you can see our system architecture:
- Detection: YOLOv8 Pretrained (COCO Class 14)
- Tracking: ByteTrack Algorithm with 30-Frame Buffer
- Weight: Area-based Proxy with ±15% Uncertainty

Key features highlighted:
✓ Individual bird detection with bounding boxes
✓ Stable tracking IDs across frames
✓ Occlusion handling with Kalman filter
✓ Normalized area-based weight indices
✓ Calibration support for converting to grams

--- SECTION 2: REQUIREMENTS COMPLIANCE ---

[Navigate to Requirements page]

Our system fully implements all mandatory requirements:

1. Bird Counting ✓
   - Bounding box detection with confidence scores
   - ByteTrack for stable ID assignment
   - Count over time with timestamp mapping
   - Occlusion handling via 30-frame buffer and Kalman filter
   - ID switch prevention - we achieved 0.0% switch rate!

2. Weight Estimation ✓
   - Calibration-based pixel-to-real mapping approach
   - Per-bird median weights (stable, not fluctuating)
   - Flock aggregate statistics
   - Linear regression method for gram conversion

3. Annotated Output ✓
   - Annotated video with bounding boxes
   - Tracking IDs displayed on each bird
   - Count overlay at top of frame
   - JSON results with complete metrics
   - Continuous annotations with no flickering

--- SECTION 3: DEMO VIDEO ---

[Navigate to Demo Video page]

Now let's see the system in action...

[Play the video]

What you're seeing:
✓ Individual bounding boxes around each bird
✓ Labels showing ID:X and confidence score (e.g., "ID:1 0.78")
✓ Count overlay at the top showing "Count: 3"
✓ Continuous smooth annotations across all frames

Notice how:
- Birds maintain the same ID throughout the video
- No flickering in the bounding boxes
- System handles occlusions when birds overlap

[Scroll down to Video Analysis Summary]

Key metrics from this analysis:
- Duration: 13.8 seconds
- Total Birds: 4 (accurately detected)
- Max Count: 3 birds visible simultaneously
- ID Switches: 0.0% (perfect tracking!)

[Scroll down to Per-Bird Weight Estimates table]

Weight estimation results:
- Bird ID 1: Index 151.87 ± 22.78 (small chick)
- Bird ID 2: Index 605.56 ± 90.83 (rooster - largest)
- Bird ID 3: Index 151.81 ± 22.77 (small chick)
- Bird ID 4: Index 147.88 ± 22.18 (appears later when birds scatter)

These are normalized area-based proxies, not grams.
To convert to grams, we need calibration with 50+ known weights.

--- SECTION 4: DETAILED RESULTS ---

[Navigate to Results page]

This section shows comprehensive analysis metrics...

[Show Count Over Time graph]

The timeline shows bird count varying from 0 to 3 as birds move in/out of frame.

[Show Per-Bird Weights table]

Each bird has:
- Unique ID
- Median weight index (stable value)
- Uncertainty range
- Sample count (number of frames detected)

[Show Tracking Performance]

Our tracking achieved:
- Total Tracks: 4
- ID Switch Rate: 0.0% - This is the best possible result!
  It means every bird kept the same ID from start to finish.

[Show Sample Tracked Birds table]

This shows sample detections with:
- Bounding box coordinates
- Frame number
- Average confidence scores

--- SECTION 5: API DOCUMENTATION ---

[Navigate to API Documentation page]

Our system is accessible via REST API:

Health Check:
GET /health - Returns system status

Video Analysis:
POST /analyze_video - Main endpoint for processing videos

Parameters you can configure:
- fps_sample: Frame processing rate (default: 5)
- conf_thresh: Detection confidence (we use 0.3)
- iou_thresh: IoU threshold for matching
- generate_annotated: Create annotated video output

The API returns complete JSON with:
- Video metadata
- Count timeline
- Weight estimates per bird
- Tracking metrics
- Paths to generated artifacts

================================================================================
[RESULTS & ACHIEVEMENTS]

Let me highlight our key achievements:

ACCURACY:
✓ 4 out of 4 birds correctly identified
✓ 0.0% ID switch rate (perfect tracking stability)
✓ Accurate count tracking over time

ROBUSTNESS:
✓ Handles occlusions (birds hiding behind each other)
✓ Manages birds entering/leaving frame
✓ Filters false positives with 8-frame minimum threshold

STABILITY:
✓ Median-based weight calculation (not fluctuating)
✓ Continuous annotations (no flickering)
✓ Persistent IDs across entire video

PERFORMANCE:
✓ Processing speed: ~60 FPS on detection
✓ Video generation: 5-6 seconds for 14-second input
✓ Real-time capable with GPU acceleration

================================================================================
[TECHNICAL HIGHLIGHTS]

DESIGN DECISIONS:

1. Pretrained YOLOv8 vs Fine-tuned Model
   - Fine-tuned model was trained on single-bird images
   - Pretrained COCO model better for multi-bird scenarios
   - Provides more robust detection in crowded scenes

2. Minimum Detection Threshold
   - Filter birds with fewer than 8 frame detections
   - Reduces false positives (we went from 5 detected to 4 actual birds)
   - Handles brief/uncertain detections

3. Weight Display Strategy
   - Removed from video labels (changes frame-by-frame)
   - Display stable median values in summary table
   - Cleaner visualization, more accurate representation

4. Continuous Annotations
   - Process every 5th frame for efficiency
   - Persist last known detections for intermediate frames
   - Result: smooth, professional-looking output

================================================================================
[CALIBRATION FOR REAL-WORLD USE]

Current system outputs weight INDICES (normalized area proxies).

To convert to actual grams:

1. Collect 50+ videos with known bird weights
2. Run our built-in linear regression:
   slope, intercept, r² = calculate_calibration_regression(indices, weights_grams)
3. Apply formula: weight_grams = slope × index + intercept
4. Expected R² > 0.85 for good calibration

The framework is ready - just needs labeled data!

================================================================================
[CODE QUALITY & DOCUMENTATION]

PROJECT STRUCTURE:
✓ Modular architecture (detector, tracker, weight estimator, annotator)
✓ Clean separation of concerns
✓ Comprehensive error handling
✓ Type hints throughout

DOCUMENTATION:
✓ Detailed README with setup instructions
✓ Implementation details document
✓ API documentation in Streamlit
✓ Code comments and docstrings
✓ Git setup guide included

DEPLOYMENT READY:
✓ FastAPI for production-grade API
✓ Configuration file for easy tuning
✓ Requirements.txt for reproducibility
✓ .gitignore for clean repository

================================================================================
[POTENTIAL IMPROVEMENTS]

FUTURE ENHANCEMENTS:

1. Weight Calibration
   - Collect labeled dataset
   - Implement automatic gram conversion
   - Validate across different breeds

2. Real-time Processing
   - WebSocket integration for live streams
   - Real-time dashboard updates
   - Alert system for unusual behavior

3. Advanced Analytics
   - Activity pattern recognition
   - Health monitoring indicators
   - Feeding behavior analysis

4. Deployment
   - Docker containerization
   - Cloud deployment (AWS/Azure)
   - Scalable processing pipeline

================================================================================
[CONCLUSION]

SUMMARY:

Our Poultry CCTV Video Analysis System successfully:
✓ Detects and counts individual birds with high accuracy
✓ Maintains stable tracking IDs (0.0% switch rate)
✓ Estimates weight proxies ready for calibration
✓ Provides production-ready FastAPI service
✓ Includes interactive Streamlit demo

IMPACT:
- Reduces manual labor in poultry farming
- Enables continuous, automated monitoring
- Provides data for health and growth tracking
- Scalable to large operations

TECHNOLOGIES:
- YOLOv8, ByteTrack, FastAPI, Streamlit
- OpenCV, NumPy, Pandas, Supervision

GITHUB:
https://github.com/AAYUSHBHURE/Bird-Counting-and-Weight-Estimation

================================================================================

[CLOSING]

Thank you for your attention! I'm happy to answer any questions about:
- Technical implementation
- Design decisions
- Results and metrics
- Future improvements
- Code architecture

Questions?

================================================================================
                              END OF DEMO SCRIPT
================================================================================
